using JahanAraShop.Domain.Constants;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;

namespace JahanAraShop.Controllers
{
    public partial class MessageController : Controller
    {
        public virtual ActionResult Index()
        {
          if (TempData[AppConstants.Type] == null) return RedirectToAction(MVC.Home.Index());
            var type = (Models.MessageViewModel.MessageTypes)TempData[AppConstants.Type];
            var title = TempData[AppConstants.Title].ToString();
            var description = TempData[AppConstants.Description].ToString();
            var currentpage = TempData[AppConstants.Currentpage].ToString();
            switch (type)
            {
                case Models.MessageViewModel.MessageTypes.Success:
                    title = (title == string.Empty) ? "موفقیت آمیز" : title;
                    description = (description == string.Empty) ? "کاربر گرامی عملیات مورد نظر با موفقیت انجام گردید." : description;
                    break;
                case Models.MessageViewModel.MessageTypes.Info:
                    title = (title == string.Empty) ? "کاربر گرامی" : title;
                    description = (description == string.Empty) ? "کاربر گرامی عملیات مورد نظر با موفقیت ثبت گردید." : description;
                    break;
                case Models.MessageViewModel.MessageTypes.Warning:
                    title = (title == string.Empty) ? "اخطار" : title;
                    description = (description == string.Empty) ? "کاربر گرامی لطفا دقت بیشتری نمایید." : description;
                    break;
                case Models.MessageViewModel.MessageTypes.Error:
                    title = (title == string.Empty) ? "خطا" : title;
                    description = (description == string.Empty) ? "کاربر گرامی عملیات مورد نظر با خطا مواجه گردیده است." : description;
                    break;
                default:
                    throw new ArgumentOutOfRangeException();
            }
            Session.Clear();
            return View(new Models.MessageViewModel(title: title, description: description, currentpage: currentpage, type: type));
        }

        public virtual ActionResult NotFound()
        {
            Response.StatusCode = 404;
            return View();
        }
    }
}